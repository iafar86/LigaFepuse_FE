<div layout="row" class="container">
    <md-content class="md-padding" layout-xs="column" layout="row" layout-wrap>
        <div flex-xs flex="grow" ng-repeat="zona in tablaPosiciones" layout-padding layout-margin>
            <div class="card">
                <div class="card-heading">
                    <div class="clear text-ellipsis hidden-sm">
                        <div layout="row">
                            <div flex="grow">
                                <h2 class="page-head-line">
                                    Tabla de Posiciones {{zona.Descripcion}}
                                </h2>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="card-body">
                    <table ng-table="tableParams" class="table table-bordered table-hover table-condensed editable-table">
                        <tr ng-repeat="equipo in zona.EquiposTorneo" ng-init="aux=false;pjOrig = equipo.PartidosJugados; pgOrig=equipo.PartidosGanados; peOrig=equipo.PartidosEmpatados; ppOrig=equipo.PartidosPerdidos;
                        gfOrig=equipo.GolesAFavor; gcOrig=equipo.GolesEnContra; gdOrig=equipo.DiferenciaGoles; ptosOrig=equipo.Puntos">
                            <td data-title="'N°'">
                                {{equipo.Posicion}}
                            </td>
                            <td data-title="'Equipo'">
                                <img class="img-thumbnail img-responsive" ng-src="{{equipo.Equipo.ImagenesEquipo[0].FileUrl}}" width="30" />
                                <span ui-sref="jugador.jugadorList({idTorneo:equipo.TorneoId, idEquipo:equipo.Equipo.Id})"><a>{{equipo.Equipo.Nombre}}</a> </span>
                            </td>
                            <td data-title="'PJ'" sortable="'PartidosJugados'">
                                <span ng-show="!editValue">{{equipo.PartidosJugados}}</span>
                                <div ng-show="editValue">
                                    <input type="number" class="md-input" ng-model="equipo.PartidosJugados" min="0" ng-disabled="!aux">
                                </div>
                            </td>
                            <td data-title="'PG'" sortable="'PartidosGanados'">
                                <span ng-show="!editValue">{{equipo.PartidosGanados}}</span>
                                <div ng-show="editValue">
                                    <input type="number" class="md-input" ng-model="equipo.PartidosGanados" min="0" ng-disabled="!aux">
                                </div>
                            </td>
                            <td data-title="'PE'" sortable="'PartidosEmpatados'">
                                <span ng-show="!editValue">{{equipo.PartidosEmpatados}}</span>
                                <div ng-show="editValue">
                                    <input type="number" class="md-input" ng-model="equipo.PartidosEmpatados" min="0" ng-disabled="!aux">
                                </div>
                            </td>
                            <td data-title="'PP'" sortable="'PartidosPerdidos'">
                                <span ng-show="!editValue">{{equipo.PartidosPerdidos}}</span>
                                <div ng-show="editValue">
                                    <input type="number" class="md-input" ng-model="equipo.PartidosPerdidos" min="0" ng-disabled="!aux">
                                </div>
                            </td>
                            <td data-title="'GF'" sortable="'GolesAFavor'">
                                <span ng-show="!editValue">{{equipo.GolesAFavor}}</span>
                                <div ng-show="editValue">
                                    <input type="number" class="md-input" ng-model="equipo.GolesAFavor" min="0" ng-disabled="!aux">
                                </div>
                            </td>
                            <td data-title="'GC'" sortable="'GolesEnContra'">
                                <span ng-show="!editValue">{{equipo.GolesEnContra}}</span>
                                <div ng-show="editValue">
                                    <input type="number" class="md-input" ng-model="equipo.GolesEnContra" min="0" ng-disabled="!aux">
                                </div>
                            </td>
                            <td data-title="'DG'" sortable="'DiferenciaGoles'">
                                <span ng-show="!editValue">{{equipo.DiferenciaGoles}}</span>
                                <div ng-show="editValue">
                                    <input type="number" class="md-input" ng-model="equipo.DiferenciaGoles" ng-disabled="!aux">
                                </div>
                            </td>
                            <td data-title="'PTS'" sortable="'Puntos'">
                                <span ng-show="!editValue">{{equipo.Puntos}}</span>
                                <div ng-show="editValue">
                                    <input type="number" class="md-input" ng-model="equipo.Puntos" min="0" ng-disabled="!aux">
                                </div>
                            </td>

                            <td ng-show="editValue">
                                <button class="btn btn-default btn-sm" ng-click="aux = true" ng-show="!aux"><span class="glyphicon glyphicon-pencil"></span></button>
                                <button class="btn btn-primary btn-sm" ng-click="aux=false;pjOrig = equipo.PartidosJugados; pgOrig=equipo.PartidosGanados; peOrig=equipo.PartidosEmpatados; ppOrig=equipo.PartidosPerdidos;
                        gfOrig=equipo.GolesAFavor; gcOrig=equipo.GolesEnContra; gdOrig=equipo.DiferenciaGoles; ptosOrig=equipo.Puntos" ng-show="aux">
                                    <span class="glyphicon glyphicon-ok"></span>
                                </button>
                                <button class="btn btn-default btn-sm" ng-click="aux=false; equipo.PartidosJugados=pjOrig; equipo.PartidosGanados=pgOrig; equipo.PartidosEmpatados=peOrig; equipo.PartidosPerdidos=ppOrig;
                        equipo.GolesAFavor=gfOrig; equipo.GolesEnContra=gcOrig; equipo.DiferenciaGoles=gdOrig; equipo.Puntos=ptosOrig" ng-show="aux">
                                    <span class="glyphicon glyphicon-remove"></span>
                                </button>
                            </td>
                        </tr>
                    </table>

                </div>
            </div>
            
        </div>
    </md-content>
</div>


<!--#region fpaz: menu flotante-->
<div layout="row" layout-align="star center">
    <nav mfb-menu position="br" effect="zoomin" label="Herramientas"
         active-icon="mdi-content-clear" resting-icon="mdi-content-add"
         toggling-method="hover">
        <button mfb-button icon="mdi-image-edit" label="Editar" ng-click="edit()"></button>        
        <button mfb-button icon="mdi-content-save" label="Guardar Cambios" ng-click="saveUpdate()" ng-show="editValue"></button>
        <button mfb-button icon="mdi-action-delete" label="Cancelar Cambios" ng-click="cancelEdit()" ng-show="editValue"></button>        
    </nav>
</div>
<!--#endregion-->

